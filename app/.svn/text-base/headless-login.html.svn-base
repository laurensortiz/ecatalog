<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
        <script type="application/javascript" src="/scripts/vendor/Base64.js"></script>
    </head>
    <body>
        <h1>
        Building Credentials
        </h1>

        <script type="application/javascript">
			/*-----------BEGIN QUERY PARSE------------*/
			var queryArguments = {};
			var queryParamString = window.location.search.substring(1);
			var vars = queryParamString.split('&');
			for (var i = 0; i < vars.length; i++) {
				var pair = vars[i].split('=');

				queryArguments[decodeURIComponent(pair[0])] = decodeURIComponent(pair[1]);
			}
			var authHeader = queryArguments.username + "@" + queryArguments.tenant + ":" + queryArguments.password;

			var encoded = Base64.encode(authHeader);
			sessionStorage.setItem('auth-header', "Basic " + encoded);
			sessionStorage.setItem('tenant', queryArguments.tenant);
			window.location = "/#/" + queryArguments.path;

        </script>
    </body>
</html> 